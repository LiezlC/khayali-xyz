<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Voice Grievance System Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand-dark: #1e3d3d;
            --brand-teal: #2F5C5C;
            --brand-light: #8aa9a9;
            --accent-gold: #e9c46a;
            --accent-orange: #f4a261;
            --accent-red: #e76f51;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--brand-dark);
            color: white;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
        }

        /* Voice Wave Animation */
        .voice-wave {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60px;
            gap: 4px;
        }

        .bar {
            width: 6px;
            background: var(--accent-gold);
            border-radius: 10px;
            animation: sound 0ms -800ms linear infinite alternate;
            height: 10px;
        }

        @keyframes sound {
            0% { height: 10px; opacity: 0.5; }
            100% { height: 50px; opacity: 1; }
        }

        .anim-active .bar {
            animation-duration: 400ms;
        }

        /* Path Animation for the Flowchart */
        .flow-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            transition: stroke-dashoffset 2s ease-out;
        }
        
        .flow-active {
            stroke-dashoffset: 0;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
        }

        /* Crowd Background Pattern */
        .crowd-bg {
            background-image: radial-gradient(circle at 50% 50%, rgba(244, 162, 97, 0.1) 10%, transparent 10%), 
                              radial-gradient(circle at 20% 80%, rgba(231, 111, 81, 0.1) 15%, transparent 15%),
                              radial-gradient(circle at 80% 20%, rgba(233, 196, 106, 0.1) 12%, transparent 12%);
            background-size: 100px 100px;
        }

        .node-icon {
            transition: all 0.3s ease;
        }
        .node-active {
            transform: scale(1.2);
            filter: drop-shadow(0 0 10px var(--accent-gold));
        }
    </style>
</head>
<body class="min-h-screen crowd-bg flex flex-col lg:flex-row items-center justify-center p-6 lg:p-12 gap-12">

    <!-- Left Panel: Context & Info -->
    <div class="lg:w-1/2 space-y-8 z-10">
        <div>
            <h1 class="text-5xl lg:text-6xl mb-4 text-white leading-tight">
                AI Voice Grievance <br> <span class="text-[#8aa9a9]">Systems</span>
            </h1>
            <p class="text-xl text-gray-300 font-light">Empowering Vulnerable Voices Everywhere</p>
        </div>

        <div class="glass p-6 space-y-4">
            <h3 class="text-2xl text-[#e9c46a]">Key Features</h3>
            <ul class="space-y-3 text-gray-200">
                <li class="flex items-start gap-3">
                    <span class="mt-1 text-[#f4a261]">‚óè</span>
                    <span><strong>24/7 Phone Access</strong> in local languages & dialects.</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="mt-1 text-[#f4a261]">‚óè</span>
                    <span><strong>Voice-First Intake</strong> designed for low-literacy users.</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="mt-1 text-[#f4a261]">‚óè</span>
                    <span><strong>Anonymous Reporting</strong> with secure Case ID generation.</span>
                </li>
                <li class="flex items-start gap-3">
                    <span class="mt-1 text-[#f4a261]">‚óè</span>
                    <span><strong>Automatic Routing</strong> to relevant departments for quick resolution.</span>
                </li>
            </ul>
        </div>

        <div class="hidden lg:block text-sm text-gray-400 italic">
            * Interactive Simulation: Click the phone to report a grievance.
        </div>
    </div>

    <!-- Right Panel: Interactive Simulator -->
    <div class="lg:w-1/2 w-full max-w-md relative z-10">
        
        <!-- The Flow Visualization (Behind the phone) -->
        <div class="absolute top-0 left-0 w-full h-full -z-10 opacity-30 pointer-events-none">
            <svg viewBox="0 0 400 600" class="w-full h-full">
                <!-- Winding Path -->
                <path id="svg-path" d="M200,50 C200,150 50,200 50,300 C50,400 350,450 350,550" 
                      fill="none" stroke="#8aa9a9" stroke-width="4" stroke-dasharray="10 5" />
                <path id="svg-path-active" class="flow-path" d="M200,50 C200,150 50,200 50,300 C50,400 350,450 350,550" 
                      fill="none" stroke="#e9c46a" stroke-width="6" />
            </svg>
        </div>

        <!-- The Phone Interface -->
        <div class="bg-black border-8 border-gray-800 rounded-[40px] overflow-hidden shadow-2xl relative h-[700px] flex flex-col">
            <!-- Phone Notch -->
            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-1/3 h-6 bg-gray-800 rounded-b-xl z-20"></div>
            
            <!-- Screen Content -->
            <div id="app-screen" class="flex-1 bg-gradient-to-b from-[#2F5C5C] to-[#1a3333] p-6 flex flex-col relative">
                
                <!-- Header -->
                <div class="mt-8 flex justify-between items-center text-white/80 text-sm">
                    <span>AI Grievance Bot</span>
                    <div class="flex gap-1">
                        <div class="w-3 h-3 rounded-full bg-green-400"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                    </div>
                </div>

                <!-- Dynamic Content Area -->
                <div id="dynamic-content" class="flex-1 flex flex-col items-center justify-center text-center space-y-6">
                    
                    <!-- State: IDLE -->
                    <div id="state-idle" class="animate-fade-in">
                        <div class="w-32 h-32 bg-white/10 rounded-full flex items-center justify-center mb-6 mx-auto animate-pulse">
                            <span class="text-6xl">üéôÔ∏è</span>
                        </div>
                        <h2 class="text-2xl font-bold mb-2">Report an Issue</h2>
                        <p class="text-white/70 mb-8 text-sm">Tap to call our AI Agent to report a grievance in your language.</p>
                        <button onclick="startCall()" class="bg-[#e76f51] hover:bg-[#d65a3b] text-white font-bold py-4 px-8 rounded-full shadow-lg transform transition hover:scale-105 flex items-center gap-2 mx-auto">
                            <span>üìû</span> Start Call
                        </button>
                    </div>

                    <!-- State: LISTENING -->
                    <div id="state-listening" class="hidden w-full">
                        <div class="text-white/60 mb-4 text-sm">AI Agent is listening...</div>
                        <div class="voice-wave anim-active mb-8">
                            <div class="bar" style="animation-delay: -1.2s;"></div>
                            <div class="bar" style="animation-delay: -1.0s;"></div>
                            <div class="bar" style="animation-delay: -0.8s;"></div>
                            <div class="bar" style="animation-delay: -0.6s;"></div>
                            <div class="bar" style="animation-delay: -0.4s;"></div>
                            <div class="bar" style="animation-delay: -0.2s;"></div>
                            <div class="bar" style="animation-delay: -0.5s;"></div>
                            <div class="bar" style="animation-delay: -0.9s;"></div>
                        </div>
                        <div id="transcript-box" class="bg-black/30 p-4 rounded-lg text-left text-sm text-green-300 font-mono h-32 overflow-hidden border border-white/10">
                            <span class="typing-cursor">|</span>
                        </div>
                        <button onclick="endRecording()" class="mt-6 bg-red-500 hover:bg-red-600 text-white py-2 px-6 rounded-full text-sm">
                            Stop Recording
                        </button>
                    </div>

                    <!-- State: PROCESSING -->
                    <div id="state-processing" class="hidden w-full">
                        <h3 class="text-xl font-bold mb-6">Processing Grievance</h3>
                        
                        <div class="space-y-4 w-full">
                            <!-- Step 1 -->
                            <div id="step-1" class="flex items-center gap-4 opacity-30 transition-all duration-500">
                                <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center">üë§</div>
                                <div class="text-left">
                                    <div class="font-bold text-sm">Caller Identity</div>
                                    <div class="text-xs text-white/60">Anonymized</div>
                                </div>
                            </div>
                             <!-- Step 2 -->
                             <div id="step-2" class="flex items-center gap-4 opacity-30 transition-all duration-500">
                                <div class="w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center">ü§ñ</div>
                                <div class="text-left">
                                    <div class="font-bold text-sm">AI Analysis</div>
                                    <div class="text-xs text-white/60">Categorizing: Infrastructure</div>
                                </div>
                            </div>
                             <!-- Step 3 -->
                             <div id="step-3" class="flex items-center gap-4 opacity-30 transition-all duration-500">
                                <div class="w-10 h-10 rounded-full bg-green-500 flex items-center justify-center">‚úÖ</div>
                                <div class="text-left">
                                    <div class="font-bold text-sm">Resolution Routing</div>
                                    <div class="text-xs text-white/60">Sent to Dept. of Works</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- State: SUCCESS -->
                    <div id="state-success" class="hidden w-full animate-bounce-in">
                        <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(74,222,128,0.5)]">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                        </div>
                        <h2 class="text-2xl font-bold text-white mb-2">Grievance Filed</h2>
                        <div class="bg-white/10 p-4 rounded-xl border border-white/20 mb-6">
                            <div class="text-xs text-white/50 uppercase tracking-wider mb-1">Case ID</div>
                            <div class="text-2xl font-mono text-[#e9c46a] tracking-widest font-bold">#GRV-8921</div>
                        </div>
                        <p class="text-sm text-white/70 mb-6">You will receive voice updates on this number.</p>
                        <button onclick="resetApp()" class="text-white/50 hover:text-white text-sm underline">File another report</button>
                    </div>

                </div>

                <!-- Bottom Nav (Visual only) -->
                <div class="h-12 border-t border-white/10 flex justify-around items-center text-2xl opacity-50">
                    <span>üè†</span>
                    <span>üìã</span>
                    <span>üë§</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simulation Logic
        const screens = {
            idle: document.getElementById('state-idle'),
            listening: document.getElementById('state-listening'),
            processing: document.getElementById('state-processing'),
            success: document.getElementById('state-success')
        };

        const transcriptBox = document.getElementById('transcript-box');
        const svgPathActive = document.getElementById('svg-path-active');

        // Mock Transcripts
        const mockPhrases = [
            "Hello? Yes, I am calling from District 4.",
            "The water pump in our village has been broken for 3 weeks.",
            "We have reported this before but no one came.",
            "Please help us fix this urgently.",
            "Thank you."
        ];

        function switchScreen(screenName) {
            Object.values(screens).forEach(el => el.classList.add('hidden'));
            screens[screenName].classList.remove('hidden');
        }

        function startCall() {
            switchScreen('listening');
            simulateTyping();
        }

        function simulateTyping() {
            transcriptBox.innerHTML = '<span class="typing-cursor">|</span>';
            let fullText = "";
            let phraseIndex = 0;
            let charIndex = 0;

            function typeNextChar() {
                if (screens.listening.classList.contains('hidden')) return; // Stop if user cancelled

                if (phraseIndex < mockPhrases.length) {
                    const currentPhrase = mockPhrases[phraseIndex];
                    if (charIndex < currentPhrase.length) {
                        fullText += currentPhrase[charIndex];
                        transcriptBox.innerHTML = fullText + '<span class="typing-cursor">|</span>';
                        charIndex++;
                        setTimeout(typeNextChar, 50 + Math.random() * 50);
                    } else {
                        fullText += "<br><br>";
                        phraseIndex++;
                        charIndex = 0;
                        setTimeout(typeNextChar, 600);
                    }
                } else {
                    // Finished recording automatically
                    setTimeout(endRecording, 1000);
                }
            }
            typeNextChar();
        }

        function endRecording() {
            switchScreen('processing');
            runProcessingSimulation();
        }

        function runProcessingSimulation() {
            // Reset steps
            document.getElementById('step-1').className = "flex items-center gap-4 opacity-30";
            document.getElementById('step-2').className = "flex items-center gap-4 opacity-30";
            document.getElementById('step-3').className = "flex items-center gap-4 opacity-30";
            
            // Animate SVG Path
            svgPathActive.style.strokeDashoffset = "1000";
            
            // Sequence
            setTimeout(() => {
                document.getElementById('step-1').className = "flex items-center gap-4 opacity-100 scale-105 transition-all";
                svgPathActive.style.strokeDashoffset = "600"; // Move path partially
            }, 500);

            setTimeout(() => {
                document.getElementById('step-2').className = "flex items-center gap-4 opacity-100 scale-105 transition-all";
                svgPathActive.style.strokeDashoffset = "300";
            }, 2000);

            setTimeout(() => {
                document.getElementById('step-3').className = "flex items-center gap-4 opacity-100 scale-105 transition-all";
                svgPathActive.style.strokeDashoffset = "0";
            }, 3500);

            setTimeout(() => {
                switchScreen('success');
            }, 5000);
        }

        function resetApp() {
            // Reset SVG
            svgPathActive.style.strokeDashoffset = "1000";
            switchScreen('idle');
        }

        // Initial Setup
        svgPathActive.style.strokeDashoffset = "1000"; // Hide path initially

    </script>
</body>
</html>