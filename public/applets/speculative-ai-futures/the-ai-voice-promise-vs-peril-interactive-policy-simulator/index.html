<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The AI Voice: Promise vs. Peril - Interactive Policy Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

        :root {
            --promise-grad: linear-gradient(135deg, #00f2fe 0%, #4facfe 100%);
            --peril-grad: linear-gradient(135deg, #434343 0%, #000000 100%);
            --accent-promise: #ff00cc;
            --accent-peril: #ff9900;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a;
            color: white;
            overflow-x: hidden;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Background Split */
        .bg-split {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            display: flex;
        }
        .bg-left {
            flex: 1;
            background: radial-gradient(circle at top left, #2a2a72, #009ffd);
            clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%);
            opacity: 0.2;
            transition: opacity 0.5s;
        }
        .bg-right {
            flex: 1;
            background: radial-gradient(circle at top right, #3b0a45, #000000);
            clip-path: polygon(15% 0, 100% 0, 100% 100%, 0% 100%);
            opacity: 0.2;
            transition: opacity 0.5s;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            user-select: none;
        }
        
        .card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .card.active {
            border-color: white;
            box-shadow: 0 0 20px rgba(255,255,255,0.4);
        }

        .card-promise.active {
            background: linear-gradient(135deg, rgba(0, 242, 254, 0.2), rgba(79, 172, 254, 0.2));
            border-color: #00f2fe;
        }

        .card-peril.active {
            background: linear-gradient(135deg, rgba(255, 153, 0, 0.2), rgba(255, 0, 0, 0.2));
            border-color: #ff9900;
        }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        @keyframes rotate-gear {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .animate-gear { animation: rotate-gear 10s linear infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }

        /* Custom Icons built with CSS/SVG */
        .icon-container {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 60px;
            width: 60px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
        }

        /* Meter */
        .balance-meter-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            max-width: 600px;
            background: rgba(0,0,0,0.8);
            border-radius: 30px;
            padding: 10px 20px;
            z-index: 50;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 1px solid #333;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .meter-bar {
            flex: 1;
            height: 12px;
            background: #333;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }

        .meter-fill {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 0%; /* Dynamic */
            background: white;
            transition: all 0.5s ease;
        }
        
        .meter-fill.promise { background: linear-gradient(90deg, #00f2fe, #4facfe); left: 0; }
        .meter-fill.peril { background: linear-gradient(90deg, #ff9900, #ff0055); right: 0; left: auto; }

        .status-text {
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100px;
            text-align: center;
        }

        /* Response Section (Hidden until balanced) */
        .response-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }
        .response-overlay.visible {
            opacity: 1;
            pointer-events: auto;
        }
        
        .response-content {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 3rem;
            border-radius: 20px;
            max-width: 800px;
            text-align: center;
            border: 2px solid #4facfe;
            box-shadow: 0 0 50px rgba(79, 172, 254, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        .response-overlay.visible .response-content {
            transform: scale(1);
        }

        /* Undo/Redo Indicator */
        .history-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 0.8rem;
            color: rgba(255,255,255,0.5);
            background: rgba(0,0,0,0.5);
            padding: 5px 10px;
            border-radius: 5px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .history-indicator.show { opacity: 1; }

    </style>
</head>
<body>

    <!-- Background Graphics -->
    <div class="bg-split">
        <div class="bg-left" id="bg-left"></div>
        <div class="bg-right" id="bg-right"></div>
    </div>

    <!-- Header -->
    <header class="text-center py-8 z-10 relative">
        <h1 class="text-4xl md:text-5xl font-extrabold mb-2 tracking-tight">
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">The AI Voice:</span> 
            Promise <span class="text-gray-500 text-2xl align-middle mx-2">vs</span> <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-500">Peril</span>
        </h1>
        <p class="text-gray-400 text-sm">Select factors to simulate the future impact. Balance the scales to unlock the Ethical Response.</p>
    </header>

    <!-- Main Content Grid -->
    <main class="flex-1 container mx-auto px-4 pb-24 z-10 relative overflow-y-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            
            <!-- Left Side: Promise -->
            <div class="space-y-6">
                <h2 class="text-2xl font-bold text-cyan-300 mb-4 border-b border-cyan-800 pb-2">The Promise: Potential Benefits</h2>
                
                <!-- Card 1: Efficiency -->
                <div class="card card-promise group" onclick="toggleNode('efficiency')">
                    <div class="flex items-start gap-4">
                        <div class="icon-container text-cyan-400 group-hover:animate-spin">‚öôÔ∏è</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-1">Streamlined Efficiency</h3>
                            <p class="text-sm text-gray-300">24/7 Availability & Accessibility. Automating routine tasks to free up human creativity.</p>
                        </div>
                    </div>
                </div>

                <!-- Card 2: Empathy -->
                <div class="card card-promise group" onclick="toggleNode('empathy')">
                    <div class="flex items-start gap-4">
                        <div class="icon-container text-pink-400 animate-pulse">‚ù§Ô∏è</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-1">Perceived Empathy</h3>
                            <p class="text-sm text-gray-300">AI chatbots rated as significantly more empathetic than humans in text-based healthcare scenarios.</p>
                            <!-- Mini Viz -->
                            <div class="mt-3 flex items-end gap-2 h-16">
                                <div class="w-8 bg-blue-500 h-3/4 rounded-t relative group-hover:h-full transition-all"><span class="absolute -top-5 left-0 text-xs w-full text-center">AI</span></div>
                                <div class="w-8 bg-purple-500 h-1/2 rounded-t relative"><span class="absolute -top-5 left-0 text-xs w-full text-center">Hu</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 3: Insights -->
                <div class="card card-promise group" onclick="toggleNode('insights')">
                    <div class="flex items-start gap-4">
                        <div class="icon-container text-yellow-400">üß†</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-1">Data-Driven Insights</h3>
                            <p class="text-sm text-gray-300">Proactive sentiment analysis and predictive analytics before issues grow.</p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Right Side: Peril -->
            <div class="space-y-6">
                <h2 class="text-2xl font-bold text-orange-400 mb-4 border-b border-orange-800 pb-2">The Peril: Emerging Risks</h2>

                <!-- Card 4: Identity -->
                <div class="card card-peril group" onclick="toggleNode('identity')">
                    <div class="flex items-start gap-4">
                        <div class="icon-container text-purple-400">üé≠</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-1">Threat to Identity</h3>
                            <p class="text-sm text-gray-300">Voice cloning, deepfakes, and uncompensated commercial use of biometric likeness.</p>
                        </div>
                    </div>
                </div>

                <!-- Card 5: Jobs -->
                <div class="card card-peril group" onclick="toggleNode('jobs')">
                    <div class="flex items-start gap-4">
                        <div class="icon-container text-red-500">üìâ</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-1">Job Displacement</h3>
                            <p class="text-sm text-gray-300">Devaluation of labor and creative work. Unions fighting against replacement by automation.</p>
                            <!-- Mini Viz -->
                            <div class="mt-3 w-full bg-gray-700 h-2 rounded overflow-hidden">
                                <div class="bg-red-500 h-full w-full origin-left transform scale-x-100 group-hover:scale-x-50 transition-transform duration-1000"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 6: Ethics -->
                <div class="card card-peril group" onclick="toggleNode('ethics')">
                    <div class="flex items-start gap-4">
                        <div class="icon-container text-gray-400">‚ò†Ô∏è</div>
                        <div>
                            <h3 class="text-xl font-bold text-white mb-1">Ethical Dangers</h3>
                            <p class="text-sm text-gray-300">"Deadbots", algorithmic bias, manipulation, and workplace surveillance.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Balance Meter -->
    <div class="balance-meter-container">
        <div class="status-text text-cyan-400" id="score-promise">0%</div>
        <div class="meter-bar">
            <div class="meter-fill promise" id="fill-promise"></div>
            <div class="meter-fill peril" id="fill-peril"></div>
        </div>
        <div class="status-text text-orange-500" id="score-peril">0%</div>
    </div>

    <!-- Response Overlay (Win State) -->
    <div class="response-overlay" id="response-modal">
        <div class="response-content">
            <div class="text-6xl mb-4">‚öñÔ∏è ü§ù</div>
            <h2 class="text-3xl font-bold text-white mb-4">The Response: Shaping an Ethical Future</h2>
            <p class="text-lg text-blue-100 mb-6">
                You have successfully acknowledged both the potential and the risks. The path forward requires:
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left">
                <div class="bg-white/10 p-4 rounded-lg">
                    <h4 class="font-bold text-cyan-300 mb-2">Collective Bargaining</h4>
                    <p class="text-sm">Unions negotiating contracts to control AI use and protect jobs (WGA).</p>
                </div>
                <div class="bg-white/10 p-4 rounded-lg">
                    <h4 class="font-bold text-cyan-300 mb-2">Ethics by Design</h4>
                    <p class="text-sm">Demanding transparency, fairness, and human oversight in development.</p>
                </div>
            </div>
            <button onclick="resetSimulation()" class="mt-8 px-8 py-3 bg-cyan-500 hover:bg-cyan-600 text-white font-bold rounded-full transition-colors shadow-lg shadow-cyan-500/50">
                Reset Simulation
            </button>
        </div>
    </div>

    <!-- History Toast -->
    <div class="history-indicator" id="history-toast">Action Undone</div>

    <script>
        // State Management
        let state = {
            activeNodes: new Set(), // Store IDs of active cards
        };

        let historyStack = [];
        let redoStack = [];
        const MAX_HISTORY = 50;

        // Node Definitions (for scoring)
        const nodes = {
            'efficiency': { type: 'promise', weight: 20 },
            'empathy': { type: 'promise', weight: 20 },
            'insights': { type: 'promise', weight: 20 },
            'identity': { type: 'peril', weight: 20 },
            'jobs': { type: 'peril', weight: 20 },
            'ethics': { type: 'peril', weight: 20 }
        };

        // Core Logic
        function toggleNode(id) {
            saveState();
            if (state.activeNodes.has(id)) {
                state.activeNodes.delete(id);
            } else {
                state.activeNodes.add(id);
            }
            updateUI();
        }

        function updateUI() {
            // Update Cards
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('active');
            });
            state.activeNodes.forEach(id => {
                const card = document.querySelector(`.card[onclick="toggleNode('${id}')"]`);
                if (card) card.classList.add('active');
            });

            // Calculate Scores
            let promiseScore = 0;
            let perilScore = 0;
            let totalActive = 0;

            state.activeNodes.forEach(id => {
                if (nodes[id].type === 'promise') promiseScore += nodes[id].weight;
                if (nodes[id].type === 'peril') perilScore += nodes[id].weight;
                totalActive++;
            });

            // Update Meter
            // Max score is 60 for each side roughly
            const maxScore = 60; 
            const promisePct = Math.min((promiseScore / maxScore) * 50, 50); // Max 50% of bar
            const perilPct = Math.min((perilScore / maxScore) * 50, 50);

            document.getElementById('fill-promise').style.width = `${promisePct}%`;
            document.getElementById('fill-peril').style.width = `${perilPct}%`;
            
            document.getElementById('score-promise').innerText = `${Math.round((promiseScore/60)*100)}% PROMISE`;
            document.getElementById('score-peril').innerText = `${Math.round((perilScore/60)*100)}% PERIL`;

            // Background Dynamic Effects
            const bgLeft = document.getElementById('bg-left');
            const bgRight = document.getElementById('bg-right');
            
            bgLeft.style.opacity = 0.2 + (promiseScore / 100);
            bgRight.style.opacity = 0.2 + (perilScore / 100);

            // Check Win Condition (Balance)
            // Win if at least 2 items from each side are selected
            let pCount = 0;
            let rCount = 0;
            state.activeNodes.forEach(id => {
                if(nodes[id].type === 'promise') pCount++;
                else rCount++;
            });

            const modal = document.getElementById('response-modal');
            if (pCount >= 2 && rCount >= 2) {
                modal.classList.add('visible');
            } else {
                modal.classList.remove('visible');
            }
        }

        function resetSimulation() {
            saveState();
            state.activeNodes.clear();
            updateUI();
        }

        // History System
        function saveState() {
            const currentState = {
                activeNodes: new Set(state.activeNodes)
            };
            historyStack.push(currentState);
            if (historyStack.length > MAX_HISTORY) historyStack.shift();
            redoStack = []; // Clear redo on new action
        }

        function undo() {
            if (historyStack.length === 0) return;
            
            // Save current to redo
            redoStack.push({
                activeNodes: new Set(state.activeNodes)
            });

            const prevState = historyStack.pop();
            state = prevState;
            updateUI();
            showToast("Undo");
        }

        function redo() {
            if (redoStack.length === 0) return;

            // Save current to history
            historyStack.push({
                activeNodes: new Set(state.activeNodes)
            });

            const nextState = redoStack.pop();
            state = nextState;
            updateUI();
            showToast("Redo");
        }

        function showToast(msg) {
            const toast = document.getElementById('history-toast');
            toast.innerText = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 1000);
        }

        // Event Listeners
        window.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'z') {
                e.preventDefault();
                undo();
            }
            if ((e.ctrlKey || e.metaKey) && (e.key === 'y' || (e.shiftKey && e.key === 'Z'))) {
                e.preventDefault();
                redo();
            }
        });

        window.addEventListener('message', (e) => {
            if (e.data.type === 'undo') undo();
            if (e.data.type === 'redo') redo();
        });

        // Initial Render
        updateUI();

    </script>
</body>
</html>