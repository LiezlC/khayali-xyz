<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Dog Translator: Decoding the Bark</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap');

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #FDFBF6; /* Warm beige from image */
            color: #2D3748;
        }

        /* Custom Animations */
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 0.5; }
            100% { transform: scale(2); opacity: 0; }
        }

        .sound-wave {
            position: absolute;
            border: 2px solid #4FD1C5;
            border-radius: 50%;
            opacity: 0;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .barking .sound-wave {
            animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        
        .barking .sound-wave:nth-child(2) { animation-delay: 0.3s; }
        .barking .sound-wave:nth-child(3) { animation-delay: 0.6s; }

        /* Gauge Styles */
        .gauge-container {
            position: relative;
            width: 150px;
            height: 75px;
            overflow: hidden;
        }
        .gauge-arc {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: conic-gradient(from 180deg, #48BB78 0deg, #ECC94B 90deg, #F56565 180deg);
            transform: rotate(-90deg); /* Start from left */
            clip-path: polygon(0 0, 100% 0, 100% 50%, 0 50%);
        }
        .gauge-needle {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 4px;
            height: 70px;
            background: #2D3748;
            transform-origin: bottom center;
            transform: rotate(-90deg); /* Start at 0 */
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 2px;
        }
        .gauge-needle::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: -5px;
            width: 14px;
            height: 14px;
            background: #2D3748;
            border-radius: 50%;
        }

        /* Valence Slider */
        .valence-track {
            height: 10px;
            background: linear-gradient(to right, #48BB78, #ECC94B, #F56565);
            border-radius: 5px;
            position: relative;
        }
        .valence-marker {
            width: 20px;
            height: 20px;
            background: #fff;
            border: 3px solid #2D3748;
            border-radius: 50%;
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            transition: left 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Brain Node Animation */
        .brain-node {
            transition: all 0.5s ease;
        }
        .thinking .brain-node {
            animation: flash 1s infinite alternate;
        }
        @keyframes flash {
            from { fill: #CBD5E0; r: 4; }
            to { fill: #ED8936; r: 6; }
        }

        /* Card Hover */
        .info-card {
            transition: transform 0.2s;
        }
        .info-card:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <!-- Header -->
    <header class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-black text-teal-800 mb-2">Can AI Speak Dog?</h1>
        <p class="text-lg text-gray-600">Interactive Decoder & Emotion Analyzer</p>
    </header>

    <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8">

        <!-- LEFT COLUMN: Input & Visuals -->
        <div class="lg:col-span-4 flex flex-col gap-6">
            
            <!-- The Dog Interaction Area -->
            <div class="bg-white rounded-3xl shadow-xl p-6 text-center relative overflow-hidden border-4 border-orange-100">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-teal-400 to-orange-400"></div>
                
                <h2 class="text-xl font-bold text-gray-700 mb-4">1. Select a Bark Context</h2>
                
                <!-- Bark Selection Buttons -->
                <div class="grid grid-cols-3 gap-2 mb-6">
                    <button onclick="simulateBark('playful')" class="p-2 rounded-lg bg-teal-100 hover:bg-teal-200 text-teal-800 font-bold text-sm transition">üéæ Playful</button>
                    <button onclick="simulateBark('alert')" class="p-2 rounded-lg bg-orange-100 hover:bg-orange-200 text-orange-800 font-bold text-sm transition">üîî Alert</button>
                    <button onclick="simulateBark('needy')" class="p-2 rounded-lg bg-blue-100 hover:bg-blue-200 text-blue-800 font-bold text-sm transition">ü•∫ Needy</button>
                </div>

                <!-- Dog Avatar & Sound Waves -->
                <div class="relative h-64 flex items-center justify-center mb-4" id="dog-container">
                    <div class="sound-wave w-32 h-32"></div>
                    <div class="sound-wave w-48 h-48"></div>
                    <div class="sound-wave w-64 h-64"></div>
                    
                    <!-- SVG Dog -->
                    <svg viewBox="0 0 200 200" class="w-48 h-48 relative z-10 drop-shadow-lg">
                        <g transform="translate(20,20)">
                            <!-- Ears -->
                            <path d="M40,50 L20,10 L70,30 Z" fill="#D69E2E" stroke="#975A16" stroke-width="3"/>
                            <path d="M120,50 L140,10 L90,30 Z" fill="#D69E2E" stroke="#975A16" stroke-width="3"/>
                            <!-- Head -->
                            <path d="M40,50 Q80,20 120,50 L120,110 Q80,140 40,110 Z" fill="#ECC94B" stroke="#975A16" stroke-width="3"/>
                            <!-- Snout -->
                            <path d="M60,80 L100,80 L95,110 L65,110 Z" fill="#F6E05E"/>
                            <ellipse cx="80" cy="75" rx="15" ry="10" fill="#2D3748" opacity="0.1"/>
                            <!-- Nose -->
                            <path d="M70,85 Q80,80 90,85 L85,95 L75,95 Z" fill="#1A202C"/>
                            <!-- Eyes -->
                            <circle cx="60" cy="65" r="6" fill="#1A202C"/>
                            <circle cx="100" cy="65" r="6" fill="#1A202C"/>
                            <circle cx="62" cy="63" r="2" fill="white"/>
                            <circle cx="102" cy="63" r="2" fill="white"/>
                            <!-- Mouth -->
                            <path id="mouth" d="M70,110 Q80,120 90,110" fill="none" stroke="#1A202C" stroke-width="3" stroke-linecap="round"/>
                        </g>
                    </svg>
                </div>
                
                <p id="status-text" class="text-gray-500 italic">Waiting for input...</p>
            </div>

            <!-- Impact Section -->
            <div class="bg-teal-50 rounded-2xl p-4 border border-teal-100">
                <h3 class="font-bold text-teal-800 mb-2 flex items-center"><span class="text-xl mr-2">‚öñÔ∏è</span> Ethical Impact</h3>
                <p class="text-sm text-teal-700 mb-2">As we learn to listen, new responsibilities arise.</p>
                <div class="flex justify-between text-xs text-center">
                    <div class="bg-white p-2 rounded shadow-sm w-1/3 mx-1">
                        <div class="text-lg">üëÇ</div>
                        <div>Listening</div>
                    </div>
                    <div class="bg-white p-2 rounded shadow-sm w-1/3 mx-1">
                        <div class="text-lg">ü§ù</div>
                        <div>Consent</div>
                    </div>
                    <div class="bg-white p-2 rounded shadow-sm w-1/3 mx-1">
                        <div class="text-lg">üìú</div>
                        <div>Guidelines</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MIDDLE COLUMN: AI Processing -->
        <div class="lg:col-span-4 flex flex-col gap-6">
            <!-- The Brain / Neural Net -->
            <div class="bg-white rounded-3xl shadow-lg p-6 border border-gray-200">
                <h2 class="text-xl font-bold text-gray-700 mb-4">2. AI Processing</h2>
                <div class="bg-gray-900 rounded-xl p-4 mb-4 relative h-48 flex items-center justify-center overflow-hidden">
                    <!-- Waveform Canvas -->
                    <canvas id="waveform" width="300" height="100" class="absolute opacity-50"></canvas>
                    
                    <!-- Brain SVG Overlay -->
                    <svg viewBox="0 0 200 150" class="w-full h-full absolute z-10">
                        <!-- Brain Outline -->
                        <path d="M50,100 Q30,80 40,50 Q60,10 100,20 Q140,10 160,50 Q170,80 150,100 Q130,130 100,120 Q70,130 50,100" 
                              fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"/>
                        
                        <!-- Neural Nodes -->
                        <g id="neural-network">
                            <circle class="brain-node" cx="60" cy="60" r="4" fill="#4A5568"/>
                            <circle class="brain-node" cx="80" cy="40" r="4" fill="#4A5568"/>
                            <circle class="brain-node" cx="100" cy="70" r="4" fill="#4A5568"/>
                            <circle class="brain-node" cx="120" cy="50" r="4" fill="#4A5568"/>
                            <circle class="brain-node" cx="140" cy="80" r="4" fill="#4A5568"/>
                            <circle class="brain-node" cx="90" cy="90" r="4" fill="#4A5568"/>
                            
                            <!-- Connections -->
                            <line x1="60" y1="60" x2="80" y2="40" stroke="#4A5568" stroke-width="1" opacity="0.5"/>
                            <line x1="80" y1="40" x2="120" y2="50" stroke="#4A5568" stroke-width="1" opacity="0.5"/>
                            <line x1="60" y1="60" x2="100" y2="70" stroke="#4A5568" stroke-width="1" opacity="0.5"/>
                            <line x1="100" y1="70" x2="140" y2="80" stroke="#4A5568" stroke-width="1" opacity="0.5"/>
                            <line x1="100" y1="70" x2="90" y2="90" stroke="#4A5568" stroke-width="1" opacity="0.5"/>
                        </g>
                    </svg>
                </div>

                <!-- Processing Steps -->
                <div class="space-y-3">
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-500">Wav2Vec2 Analysis</span>
                        <span id="step-1" class="text-gray-300">‚óè</span>
                    </div>
                    <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                        <div id="progress-bar" class="h-full bg-teal-500 w-0 transition-all duration-1000"></div>
                    </div>
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-500">Emotion Extraction</span>
                        <span id="step-2" class="text-gray-300">‚óè</span>
                    </div>
                    <div class="flex items-center justify-between text-sm">
                        <span class="text-gray-500">Context Matching</span>
                        <span id="step-3" class="text-gray-300">‚óè</span>
                    </div>
                </div>
            </div>

            <!-- Brain Scan Insight -->
            <div class="bg-orange-50 rounded-2xl p-4 border border-orange-100">
                <h3 class="font-bold text-orange-800 mb-2 text-sm uppercase tracking-wide">Brain Scan Insight</h3>
                <p class="text-sm text-gray-700 mb-3">Dogs value praise as much as food.</p>
                <div class="flex items-center justify-center gap-4">
                    <div class="text-center opacity-50" id="praise-icon">
                        <div class="text-2xl">üëã</div>
                        <div class="text-xs font-bold">Praise</div>
                    </div>
                    <div class="h-8 w-px bg-orange-200"></div>
                    <div class="text-center opacity-50" id="food-icon">
                        <div class="text-2xl">ü¶¥</div>
                        <div class="text-xs font-bold">Food</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- RIGHT COLUMN: Results -->
        <div class="lg:col-span-4 flex flex-col gap-6">
            <div class="bg-white rounded-3xl shadow-xl p-6 border-t-8 border-teal-500 h-full">
                <h2 class="text-xl font-bold text-gray-700 mb-6">3. Decoded Message</h2>
                
                <!-- Translation Bubble -->
                <div class="bg-gray-100 rounded-tl-2xl rounded-tr-2xl rounded-br-2xl p-6 mb-8 relative">
                    <div class="absolute -bottom-3 left-0 w-6 h-6 bg-gray-100 transform skew-x-12"></div>
                    <p id="translation-text" class="text-2xl font-bold text-gray-800 min-h-[4rem] flex items-center">
                        ...
                    </p>
                </div>

                <!-- Metrics -->
                <div class="space-y-8">
                    <!-- Arousal Gauge -->
                    <div class="flex flex-col items-center">
                        <div class="flex justify-between w-full text-xs font-bold text-gray-400 mb-1 uppercase">
                            <span>Calm</span>
                            <span>Intense</span>
                        </div>
                        <div class="gauge-container">
                            <div class="gauge-arc"></div>
                            <div id="arousal-needle" class="gauge-needle"></div>
                        </div>
                        <span class="font-bold text-gray-600 mt-2">AROUSAL</span>
                    </div>

                    <!-- Valence Slider -->
                    <div>
                        <div class="flex justify-between w-full text-xs font-bold text-gray-400 mb-2 uppercase">
                            <span>Negative</span>
                            <span>Positive</span>
                        </div>
                        <div class="valence-track">
                            <div id="valence-marker" class="valence-marker"></div>
                        </div>
                        <div class="text-center mt-2 font-bold text-gray-600">VALENCE</div>
                    </div>

                    <!-- Context Icons -->
                    <div class="grid grid-cols-3 gap-4 pt-4 border-t border-gray-100">
                        <div class="text-center">
                            <div class="text-2xl mb-1">üêï</div>
                            <div class="text-xs text-gray-500 uppercase">Breed</div>
                            <div class="font-bold text-sm text-teal-600">G. Shep</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-1">‚ôÇÔ∏è</div>
                            <div class="text-xs text-gray-500 uppercase">Sex</div>
                            <div class="font-bold text-sm text-teal-600">Male</div>
                        </div>
                        <div class="text-center">
                            <div id="emotion-icon" class="text-2xl mb-1">üòê</div>
                            <div class="text-xs text-gray-500 uppercase">Emotion</div>
                            <div id="emotion-text" class="font-bold text-sm text-teal-600">Neutral</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Canvas Waveform Setup
        const canvas = document.getElementById('waveform');
        const ctx = canvas.getContext('2d');
        let animationId;
        let isRunning = false;

        function drawWaveform() {
            if (!isRunning) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                return;
            }
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2);
            
            const time = Date.now() * 0.005;
            for (let x = 0; x < canvas.width; x++) {
                const y = Math.sin(x * 0.05 + time) * 20 * Math.sin(time * 0.5) + canvas.height / 2;
                ctx.lineTo(x, y);
            }
            
            ctx.strokeStyle = '#4FD1C5';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            animationId = requestAnimationFrame(drawWaveform);
        }

        // Simulation Logic
        const scenarios = {
            playful: {
                text: ["Play with me!", "Throw the ball!", "I'm so happy!"],
                arousal: 135, // High energy (angle)
                valence: 80, // Positive (percent)
                emotion: "Joy",
                icon: "üòÉ",
                brain: "praise"
            },
            alert: {
                text: ["Someone is at the door!", "Did you hear that?", "Stranger danger!"],
                arousal: 160, // Very High energy
                valence: 20, // Negative/Concerned
                emotion: "Alert",
                icon: "üëÄ",
                brain: "food" // Alertness often links to resource guarding/survival
            },
            needy: {
                text: ["I'm hungry...", "Can I have a treat?", "Don't leave me."],
                arousal: 45, // Low energy
                valence: 40, // Slightly negative
                emotion: "Sadness",
                icon: "ü•∫",
                brain: "food"
            }
        };

        function simulateBark(type) {
            const scenario = scenarios[type];
            const dogContainer = document.getElementById('dog-container');
            const statusText = document.getElementById('status-text');
            const progressBar = document.getElementById('progress-bar');
            const brainNodes = document.querySelectorAll('.brain-node');
            
            // Reset UI
            document.getElementById('translation-text').innerText = "...";
            document.getElementById('arousal-needle').style.transform = `rotate(-90deg)`;
            document.getElementById('valence-marker').style.left = `50%`;
            document.getElementById('step-1').style.color = '#CBD5E0';
            document.getElementById('step-2').style.color = '#CBD5E0';
            document.getElementById('step-3').style.color = '#CBD5E0';
            document.getElementById('praise-icon').style.opacity = '0.5';
            document.getElementById('food-icon').style.opacity = '0.5';

            // 1. Start Barking
            dogContainer.classList.add('barking');
            statusText.innerText = "Recording Audio...";
            
            // Start Waveform
            isRunning = true;
            drawWaveform();

            // 2. AI Processing (Simulated delay)
            setTimeout(() => {
                dogContainer.classList.remove('barking');
                statusText.innerText = "Processing Neural Data...";
                document.body.classList.add('thinking');
                
                // Progress Bar Animation
                progressBar.style.width = '100%';
                
                // Step indicators
                setTimeout(() => document.getElementById('step-1').style.color = '#48BB78', 500);
                setTimeout(() => document.getElementById('step-2').style.color = '#48BB78', 1000);
                setTimeout(() => document.getElementById('step-3').style.color = '#48BB78', 1500);

            }, 1500);

            // 3. Show Results
            setTimeout(() => {
                isRunning = false;
                document.body.classList.remove('thinking');
                progressBar.style.width = '0%';
                statusText.innerText = "Analysis Complete";

                // Random text from array
                const randomText = scenario.text[Math.floor(Math.random() * scenario.text.length)];
                document.getElementById('translation-text').innerText = `"${randomText}"`;

                // Set Gauges
                // Arousal: -90deg (start) to 90deg (end). Map 0-180 input to -90 to 90.
                const angle = scenario.arousal - 90; 
                document.getElementById('arousal-needle').style.transform = `rotate(${angle}deg)`;
                
                // Valence: 0% to 100%
                document.getElementById('valence-marker').style.left = `${scenario.valence}%`;

                // Set Context
                document.getElementById('emotion-text').innerText = scenario.emotion;
                document.getElementById('emotion-icon').innerText = scenario.icon;

                // Brain Insight
                if(scenario.brain === 'praise') {
                    document.getElementById('praise-icon').style.opacity = '1';
                    document.getElementById('praise-icon').classList.add('scale-110');
                    setTimeout(() => document.getElementById('praise-icon').classList.remove('scale-110'), 300);
                } else {
                    document.getElementById('food-icon').style.opacity = '1';
                    document.getElementById('food-icon').classList.add('scale-110');
                    setTimeout(() => document.getElementById('food-icon').classList.remove('scale-110'), 300);
                }

            }, 3500);
        }
    </script>
</body>
</html>