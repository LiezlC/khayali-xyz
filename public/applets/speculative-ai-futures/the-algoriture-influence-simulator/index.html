<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Algoriture: Influence Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap');

        :root {
            --neon-cyan: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-purple: #bc13fe;
            --dark-bg: #050510;
            --glass: rgba(255, 255, 255, 0.05);
        }

        body {
            background-color: var(--dark-bg);
            color: white;
            font-family: 'Share Tech Mono', monospace;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Animated Cyberpunk Background */
        .bg-grid {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                linear-gradient(transparent 0%, rgba(0, 243, 255, 0.1) 2%, transparent 3%),
                linear-gradient(90deg, transparent 0%, rgba(188, 19, 254, 0.1) 2%, transparent 3%);
            background-size: 100px 100px;
            transform: perspective(500px) rotateX(60deg) translateY(-100px) translateZ(-200px);
            animation: gridMove 20s linear infinite;
            z-index: -2;
            opacity: 0.3;
        }

        @keyframes gridMove {
            0% { background-position: 0 0; }
            100% { background-position: 0 1000px; }
        }

        .city-silhouette {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30%;
            background: linear-gradient(to top, #000 10%, transparent 100%);
            z-index: -1;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            opacity: 0.6;
        }

        .building {
            width: 50px;
            background: #0a0a1a;
            border-top: 2px solid var(--neon-purple);
            box-shadow: 0 0 15px var(--neon-purple);
        }

        /* UI Elements */
        .glass-panel {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 10px var(--neon-cyan);
        }

        .neon-text-pink {
            color: var(--neon-pink);
            text-shadow: 0 0 10px var(--neon-pink);
        }

        .neon-text-cyan {
            color: var(--neon-cyan);
            text-shadow: 0 0 10px var(--neon-cyan);
        }

        /* The Brain */
        .brain-container {
            position: relative;
            cursor: pointer;
            transition: transform 0.1s;
        }
        .brain-container:active {
            transform: scale(0.95);
        }
        .brain-svg {
            filter: drop-shadow(0 0 20px var(--neon-cyan));
            animation: pulse 3s infinite ease-in-out;
        }
        @keyframes pulse {
            0%, 100% { filter: drop-shadow(0 0 15px var(--neon-cyan)); }
            50% { filter: drop-shadow(0 0 40px var(--neon-cyan)); }
        }

        /* Floating Particles */
        .particle {
            position: absolute;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            font-weight: bold;
            font-size: 1.2rem;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }

        /* Robot Cards */
        .robot-card {
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        .robot-card:hover {
            border-color: var(--neon-cyan);
            transform: translateY(-5px);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
        }
        .robot-locked {
            filter: grayscale(1);
            opacity: 0.5;
        }

        /* Scrollbars */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: var(--neon-purple); border-radius: 3px; }

        /* Billboards */
        .billboard {
            animation: flicker 4s infinite;
        }
        @keyframes flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; }
            20%, 24%, 55% { opacity: 0.4; }
        }
    </style>
</head>
<body>

    <!-- Background Effects -->
    <div class="bg-grid"></div>
    <div class="city-silhouette" id="cityscape">
        <!-- Buildings generated by JS -->
    </div>

    <!-- Header -->
    <header class="p-4 flex justify-between items-center z-10 border-b border-white/10 bg-black/40 backdrop-blur-md">
        <div>
            <h1 class="text-2xl md:text-3xl font-bold text-white">THE <span class="neon-text-cyan">ALGORITURE</span></h1>
            <p class="text-xs text-gray-400">Win Artificial Friends & Influence the Code</p>
        </div>
        <div class="text-right">
            <div class="text-sm text-gray-400">INFLUENCE</div>
            <div class="text-3xl font-mono neon-text-pink" id="scoreDisplay">0</div>
            <div class="text-xs text-cyan-300" id="rateDisplay">0 / sec</div>
        </div>
    </header>

    <!-- Main Game Area -->
    <main class="flex-1 flex flex-col md:flex-row overflow-hidden z-10 relative">
        
        <!-- Left Panel: Upgrades -->
        <div class="w-full md:w-1/4 p-4 overflow-y-auto border-r border-white/10 bg-black/20">
            <h2 class="text-xl font-bold mb-4 neon-text-purple border-b border-purple-500/30 pb-2">Algorithm Hacks</h2>
            <div id="upgradesList" class="space-y-3">
                <!-- Upgrades injected here -->
            </div>
        </div>

        <!-- Center: The Brain (Clicker) -->
        <div class="flex-1 flex flex-col items-center justify-center relative p-6">
            
            <!-- Floating Billboards -->
            <div class="absolute top-10 left-10 glass-panel px-4 py-2 billboard transform -rotate-6">
                <span class="text-pink-500 font-bold text-xl">LIKE ME</span>
            </div>
            <div class="absolute bottom-20 right-10 glass-panel px-4 py-2 billboard transform rotate-3" style="animation-delay: 1s">
                <span class="text-cyan-400 font-bold text-xl">FOLLOW NOW</span>
            </div>
            <div class="absolute top-20 right-20 glass-panel px-3 py-1 billboard transform rotate-12" style="animation-delay: 2s">
                <span class="text-purple-400 font-bold text-lg">VIRAL</span>
            </div>

            <!-- The Brain -->
            <div class="brain-container" id="brainClicker">
                <svg class="brain-svg w-64 h-64 md:w-96 md:h-96" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Glowing Brain Outline -->
                    <path d="M100 180C140 180 170 150 170 110C170 80 150 60 130 50C130 30 110 20 100 20C90 20 70 30 70 50C50 60 30 80 30 110C30 150 60 180 100 180Z" stroke="#00f3ff" stroke-width="2" fill="rgba(0, 243, 255, 0.05)"/>
                    
                    <!-- Circuit Lines Inside -->
                    <path d="M100 20V50" stroke="#00f3ff" stroke-width="2"/>
                    <path d="M130 50L120 80" stroke="#bc13fe" stroke-width="2"/>
                    <path d="M70 50L80 80" stroke="#bc13fe" stroke-width="2"/>
                    <path d="M50 110H80" stroke="#00f3ff" stroke-width="2"/>
                    <path d="M150 110H120" stroke="#00f3ff" stroke-width="2"/>
                    <path d="M80 80C80 80 90 100 100 100C110 100 120 80 120 80" stroke="#ff00ff" stroke-width="2"/>
                    <path d="M60 140C70 150 90 160 100 160C110 160 130 150 140 140" stroke="#00f3ff" stroke-width="2"/>
                    
                    <!-- Nodes -->
                    <circle cx="100" cy="20" r="3" fill="#fff"/>
                    <circle cx="130" cy="50" r="3" fill="#fff"/>
                    <circle cx="70" cy="50" r="3" fill="#fff"/>
                    <circle cx="50" cy="110" r="3" fill="#fff"/>
                    <circle cx="150" cy="110" r="3" fill="#fff"/>
                    <circle cx="100" cy="100" r="4" fill="#ff00ff" class="animate-pulse"/>
                </svg>
            </div>

            <p class="mt-8 text-cyan-200 animate-bounce">Tap the Neural Core to Engage</p>
        </div>

        <!-- Right Panel: Friends -->
        <div class="w-full md:w-1/4 p-4 overflow-y-auto border-l border-white/10 bg-black/20">
            <h2 class="text-xl font-bold mb-4 neon-text-cyan border-b border-cyan-500/30 pb-2">Artificial Friends</h2>
            <div id="friendsList" class="space-y-3">
                <!-- Friends injected here -->
            </div>
        </div>

    </main>

    <!-- Toast Notification Area -->
    <div id="toastArea" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 pointer-events-none"></div>

    <script>
        // Game State
        let state = {
            influence: 0,
            clickPower: 1,
            autoInfluence: 0,
            friendsUnlocked: 0
        };

        // Configuration
        const upgrades = [
            { id: 1, name: "Click Bait Title", cost: 20, type: 'click', power: 1, icon: "üé£", desc: "+1 Click Power" },
            { id: 2, name: "Bot Farm V1", cost: 100, type: 'auto', power: 2, icon: "ü§ñ", desc: "+2 Influence/sec" },
            { id: 3, name: "Trending Hashtag", cost: 500, type: 'click', power: 5, icon: "#Ô∏è‚É£", desc: "+5 Click Power" },
            { id: 4, name: "Deepfake Cameo", cost: 1000, type: 'auto', power: 15, icon: "üé≠", desc: "+15 Influence/sec" },
            { id: 5, name: "Viral Cat Video", cost: 3000, type: 'click', power: 20, icon: "üê±", desc: "+20 Click Power" },
            { id: 6, name: "Neural Link", cost: 10000, type: 'auto', power: 100, icon: "üß†", desc: "+100 Influence/sec" }
        ];

        const friends = [
            { id: 1, name: "Unit Alpha", threshold: 0, icon: "ü§ñ", color: "text-blue-400", quote: "Hello World." },
            { id: 2, name: "Beta Bot", threshold: 500, icon: "üëæ", color: "text-purple-400", quote: "I like your data." },
            { id: 3, name: "Crypto Bro Bot", threshold: 2000, icon: "üíé", color: "text-yellow-400", quote: "To the moon!" },
            { id: 4, name: "Influencer Model X", threshold: 8000, icon: "ü§≥", color: "text-pink-400", quote: "#NoFilter #Blessed" },
            { id: 5, name: "The Architect", threshold: 50000, icon: "üëÅÔ∏è", color: "text-red-500", quote: "I see everything." }
        ];

        // DOM Elements
        const scoreEl = document.getElementById('scoreDisplay');
        const rateEl = document.getElementById('rateDisplay');
        const brainEl = document.getElementById('brainClicker');
        const upgradesListEl = document.getElementById('upgradesList');
        const friendsListEl = document.getElementById('friendsList');
        const toastArea = document.getElementById('toastArea');

        // Initialization
        function init() {
            generateCity();
            renderUpgrades();
            renderFriends();
            setInterval(gameLoop, 1000);
            brainEl.addEventListener('click', handleClick);
        }

        // Generate background city
        function generateCity() {
            const container = document.getElementById('cityscape');
            const width = window.innerWidth;
            const count = Math.floor(width / 40);
            
            for(let i=0; i<count; i++) {
                const div = document.createElement('div');
                div.className = 'building';
                div.style.height = Math.random() * 80 + 20 + '%';
                div.style.width = (Math.random() * 30 + 20) + 'px';
                div.style.opacity = Math.random() * 0.5 + 0.2;
                container.appendChild(div);
            }
        }

        // Core Logic
        function handleClick(e) {
            addInfluence(state.clickPower);
            createParticle(e.clientX, e.clientY, `+${state.clickPower}`);
            
            // Visual feedback on brain
            const svg = brainEl.querySelector('svg');
            svg.style.transform = 'scale(1.1)';
            setTimeout(() => svg.style.transform = 'scale(1)', 100);
        }

        function addInfluence(amount) {
            state.influence += amount;
            updateUI();
            checkUnlocks();
        }

        function gameLoop() {
            if(state.autoInfluence > 0) {
                addInfluence(state.autoInfluence);
                // Occasionally show floating text from auto generation
                if(Math.random() > 0.7) {
                    const rect = brainEl.getBoundingClientRect();
                    const x = rect.left + rect.width/2 + (Math.random()*100 - 50);
                    const y = rect.top + rect.height/2 + (Math.random()*100 - 50);
                    createParticle(x, y, "‚ù§Ô∏è");
                }
            }
        }

        function buyUpgrade(upgrade) {
            if(state.influence >= upgrade.cost) {
                state.influence -= upgrade.cost;
                upgrade.cost = Math.floor(upgrade.cost * 1.5); // Increase cost
                
                if(upgrade.type === 'click') state.clickPower += upgrade.power;
                if(upgrade.type === 'auto') state.autoInfluence += upgrade.power;

                renderUpgrades();
                updateUI();
                showToast(`Purchased: ${upgrade.name}`);
            }
        }

        function checkUnlocks() {
            friends.forEach(friend => {
                if(state.influence >= friend.threshold && state.friendsUnlocked < friend.id) {
                    // Unlock friend logic handled by renderFriends mostly, just need to track state
                    // But let's trigger a notification if it's a fresh unlock
                    const el = document.getElementById(`friend-${friend.id}`);
                    if(el && el.classList.contains('robot-locked')) {
                        showToast(`New Friend: ${friend.name} unlocked!`);
                        renderFriends();
                    }
                }
            });
        }

        // Rendering
        function updateUI() {
            scoreEl.innerText = Math.floor(state.influence).toLocaleString();
            rateEl.innerText = `${state.autoInfluence} / sec`;
            
            // Enable/Disable upgrade buttons
            upgrades.forEach(u => {
                const btn = document.getElementById(`upgrade-btn-${u.id}`);
                if(btn) {
                    if(state.influence >= u.cost) {
                        btn.classList.remove('opacity-50', 'cursor-not-allowed');
                        btn.classList.add('hover:bg-white/10', 'cursor-pointer');
                    } else {
                        btn.classList.add('opacity-50', 'cursor-not-allowed');
                        btn.classList.remove('hover:bg-white/10', 'cursor-pointer');
                    }
                    // Update cost text
                    btn.querySelector('.cost-display').innerText = u.cost.toLocaleString();
                }
            });
        }

        function renderUpgrades() {
            upgradesListEl.innerHTML = '';
            upgrades.forEach(u => {
                const div = document.createElement('div');
                div.id = `upgrade-btn-${u.id}`;
                div.className = 'glass-panel p-3 flex items-center justify-between transition-all duration-200 select-none';
                div.onclick = () => buyUpgrade(u);
                
                div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="text-2xl">${u.icon}</div>
                        <div>
                            <div class="font-bold text-sm text-cyan-100">${u.name}</div>
                            <div class="text-xs text-gray-400">${u.desc}</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-pink-400 font-mono">COST</div>
                        <div class="font-bold text-pink-500 cost-display">${u.cost.toLocaleString()}</div>
                    </div>
                `;
                upgradesListEl.appendChild(div);
            });
            updateUI();
        }

        function renderFriends() {
            friendsListEl.innerHTML = '';
            friends.forEach(f => {
                const isLocked = state.influence < f.threshold;
                const div = document.createElement('div');
                div.id = `friend-${f.id}`;
                div.className = `robot-card glass-panel p-3 flex items-center gap-3 ${isLocked ? 'robot-locked' : ''}`;
                
                div.innerHTML = `
                    <div class="w-10 h-10 rounded-full bg-black/50 flex items-center justify-center text-xl border border-white/20">
                        ${f.icon}
                    </div>
                    <div>
                        <div class="font-bold text-sm ${f.color}">${isLocked ? '???' : f.name}</div>
                        <div class="text-xs text-gray-400 italic">"${isLocked ? 'Requires ' + f.threshold + ' Influence' : f.quote}"</div>
                    </div>
                `;
                
                // Interactive chat for unlocked friends
                if(!isLocked) {
                    div.style.cursor = 'pointer';
                    div.onclick = () => {
                        showToast(`${f.name}: ${f.quote}`);
                        addInfluence(10); // Bonus for interacting with friends
                        createParticle(event.clientX, event.clientY, "‚ù§Ô∏è");
                    };
                }

                friendsListEl.appendChild(div);
            });
        }

        // Visual Effects
        function createParticle(x, y, text) {
            const el = document.createElement('div');
            el.innerText = text;
            el.className = 'particle text-cyan-300';
            el.style.left = `${x}px`;
            el.style.top = `${y}px`;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 1000);
        }

        function showToast(msg) {
            const el = document.createElement('div');
            el.className = 'bg-black/80 border border-cyan-500 text-cyan-100 px-4 py-2 rounded-lg shadow-lg mb-2 backdrop-blur-md animate-bounce';
            el.innerText = msg;
            toastArea.appendChild(el);
            setTimeout(() => el.remove(), 3000);
        }

        // Start
        init();

    </script>
</body>
</html>