<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumi: The Serenity Bot</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap');

        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Nunito', sans-serif;
            background: radial-gradient(circle at center, #fef3c7 0%, #d97706 100%);
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        /* --- Background Effects --- */
        .rays-container {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 200vmax;
            height: 200vmax;
            transform: translate(-50%, -50%);
            z-index: 0;
            animation: spin 60s linear infinite;
            pointer-events: none;
            opacity: 0.4;
        }

        .ray {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50%;
            height: 4vw;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.6), transparent);
            transform-origin: left center;
            filter: blur(4px);
        }

        @keyframes spin {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* --- The Robot (Lumi) --- */
        .lumi-container {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .lumi-container:hover {
            transform: scale(1.02);
        }

        .lumi-container.breathe-in {
            animation: breatheIn 4s ease-in-out forwards;
        }
        .lumi-container.breathe-out {
            animation: breatheOut 4s ease-in-out forwards;
        }

        @keyframes breatheIn {
            0% { transform: scale(1); filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6)); }
            100% { transform: scale(1.15); filter: drop-shadow(0 0 60px rgba(255, 255, 200, 0.9)); }
        }
        @keyframes breatheOut {
            0% { transform: scale(1.15); filter: drop-shadow(0 0 60px rgba(255, 255, 200, 0.9)); }
            100% { transform: scale(1); filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6)); }
        }

        /* Head */
        .head {
            width: 220px;
            height: 200px;
            background: linear-gradient(135deg, #fcd34d 0%, #fbbf24 100%);
            border-radius: 48% 48% 45% 45%;
            position: relative;
            box-shadow: inset -10px -10px 20px rgba(180, 83, 9, 0.2), inset 10px 10px 20px rgba(255, 255, 255, 0.5);
            z-index: 2;
        }

        /* Ears/Antenna */
        .ear {
            position: absolute;
            top: 90px;
            width: 30px;
            height: 50px;
            background: #fbbf24;
            border-radius: 15px;
            z-index: 1;
            border: 2px solid #d97706;
        }
        .ear.left { left: -15px; }
        .ear.right { right: -15px; }
        .ear-dots {
            display: flex;
            flex-direction: column;
            gap: 4px;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
        .ear-dot { width: 6px; height: 6px; background: #92400e; border-radius: 50%; }

        /* Face */
        .face {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-top: 20px;
        }

        .eyes-row {
            display: flex;
            gap: 60px;
            margin-bottom: 10px;
        }

        /* SVG Eyes for the happy curve */
        .eye-svg {
            width: 40px;
            height: 20px;
            overflow: visible;
        }
        .eye-path {
            fill: none;
            stroke: #3730a3; /* Dark indigo for contrast */
            stroke-width: 5;
            stroke-linecap: round;
        }
        .lashes {
            stroke: #3730a3;
            stroke-width: 3;
            stroke-linecap: round;
        }

        .cheeks {
            position: absolute;
            top: 100px;
            width: 160px;
            display: flex;
            justify-content: space-between;
        }
        .cheek {
            width: 30px;
            height: 20px;
            background: rgba(239, 68, 68, 0.2);
            border-radius: 50%;
            filter: blur(4px);
        }

        .nose {
            width: 8px;
            height: 4px;
            background: rgba(0,0,0,0.1);
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .mouth-svg {
            width: 40px;
            height: 15px;
            overflow: visible;
        }

        /* Neck */
        .neck {
            width: 60px;
            height: 40px;
            background: #4b5563;
            margin-top: -10px;
            z-index: 1;
            border-radius: 0 0 10px 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            align-items: center;
            border: 2px solid #374151;
        }
        .neck-ring { width: 100%; height: 2px; background: #1f2937; }

        /* Body */
        .body {
            width: 180px;
            height: 140px;
            background: linear-gradient(135deg, #fcd34d 0%, #f59e0b 100%);
            border-radius: 40px 40px 0 0;
            position: relative;
            z-index: 2;
            margin-top: -5px;
            box-shadow: inset -5px -5px 15px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            padding: 20px;
        }

        .shoulder-pad {
            width: 40px;
            height: 60px;
            background: #4b5563; /* Dark gray */
            border-radius: 20px;
            margin-top: 10px;
        }
        
        .chest-detail {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
        }

        /* --- UI Overlay --- */
        .ui-layer {
            position: absolute;
            bottom: 30px;
            z-index: 50;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: #fff;
            padding: 12px 24px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        button:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        .bubble {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%) scale(0);
            background: white;
            padding: 20px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            font-size: 1.2rem;
            color: #4b5563;
            text-align: center;
            max-width: 80%;
            z-index: 100;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
        }
        .bubble.show {
            transform: translateX(-50%) scale(1);
        }
        .bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: white transparent;
        }

        /* Particles */
        .particle {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: floatUp 2s linear forwards;
            box-shadow: 0 0 10px #fff;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(0); opacity: 0; }
        }

    </style>
</head>
<body>

    <!-- Background Rays -->
    <div class="rays-container" id="rays">
        <!-- Rays injected by JS -->
    </div>

    <!-- Speech Bubble -->
    <div class="bubble" id="speechBubble">Hello! I am Lumi.</div>

    <!-- The Robot -->
    <div class="lumi-container" id="lumi">
        <div class="ear left">
            <div class="ear-dots"><div class="ear-dot"></div><div class="ear-dot"></div><div class="ear-dot"></div></div>
        </div>
        <div class="ear right">
            <div class="ear-dots"><div class="ear-dot"></div><div class="ear-dot"></div><div class="ear-dot"></div></div>
        </div>

        <div class="head">
            <div class="face">
                <div class="eyes-row">
                    <!-- Left Eye -->
                    <svg class="eye-svg" viewBox="0 0 40 20">
                        <path class="eye-path" d="M2,15 Q20,0 38,15" />
                        <line class="lashes" x1="2" y1="15" x2="-2" y2="12" />
                        <line class="lashes" x1="38" y1="15" x2="42" y2="12" />
                    </svg>
                    <!-- Right Eye -->
                    <svg class="eye-svg" viewBox="0 0 40 20">
                        <path class="eye-path" d="M2,15 Q20,0 38,15" />
                        <line class="lashes" x1="2" y1="15" x2="-2" y2="12" />
                        <line class="lashes" x1="38" y1="15" x2="42" y2="12" />
                    </svg>
                </div>
                <div class="cheeks">
                    <div class="cheek"></div>
                    <div class="cheek"></div>
                </div>
                <div class="nose"></div>
                <svg class="mouth-svg" viewBox="0 0 40 15">
                    <path class="eye-path" d="M5,2 Q20,15 35,2" style="stroke-width: 3; stroke: #3730a3;" />
                </svg>
            </div>
        </div>

        <div class="neck">
            <div class="neck-ring"></div>
            <div class="neck-ring"></div>
            <div class="neck-ring"></div>
            <div class="neck-ring"></div>
        </div>

        <div class="body">
            <div class="shoulder-pad"></div>
            <div class="chest-detail"></div>
            <div class="shoulder-pad"></div>
        </div>
    </div>

    <!-- Controls -->
    <div class="ui-layer">
        <button onclick="toggleBreathing()">ðŸ§˜ Breathe</button>
        <button onclick="giveWisdom()">âœ¨ Wisdom</button>
        <button onclick="cleanse()">ðŸ§¹ Cleanse</button>
    </div>

    <script>
        // --- Initialization ---
        const raysContainer = document.getElementById('rays');
        const lumi = document.getElementById('lumi');
        const bubble = document.getElementById('speechBubble');
        let isBreathing = false;

        // Create Rays
        for (let i = 0; i < 12; i++) {
            const ray = document.createElement('div');
            ray.className = 'ray';
            ray.style.transform = `translate(-50%, -50%) rotate(${i * 30}deg)`;
            raysContainer.appendChild(ray);
        }

        // --- Interactions ---

        // 1. Wisdom Generator
        const quotes = [
            "Shine your light, even if it's just a spark.",
            "Peace begins with a smile.",
            "Inhale courage, exhale fear.",
            "You are enough just as you are.",
            "Let your joy burst forth like rays of sun.",
            "Today is a perfect day to be happy.",
            "Your energy introduces you before you even speak.",
            "Find calm in the chaos."
        ];

        function giveWisdom() {
            if(isBreathing) stopBreathing();
            
            // Animation
            lumi.style.transform = "scale(1.1) rotate(5deg)";
            setTimeout(() => lumi.style.transform = "scale(1.1) rotate(-5deg)", 150);
            setTimeout(() => lumi.style.transform = "scale(1)", 300);

            // Particles
            createExplosion(window.innerWidth / 2, window.innerHeight / 2);

            // Text
            const text = quotes[Math.floor(Math.random() * quotes.length)];
            showBubble(text);
        }

        function showBubble(text) {
            bubble.innerText = text;
            bubble.classList.add('show');
            setTimeout(() => {
                bubble.classList.remove('show');
            }, 3000);
        }

        // 2. Breathing Exercise
        function toggleBreathing() {
            if (isBreathing) {
                stopBreathing();
                showBubble("Welcome back.");
            } else {
                startBreathing();
            }
        }

        function startBreathing() {
            isBreathing = true;
            showBubble("Breathe in...");
            lumi.classList.add('breathe-in');
            
            // Cycle logic
            breathingCycle();
        }

        function breathingCycle() {
            if (!isBreathing) return;
            
            // Inhale (4s)
            lumi.className = 'lumi-container breathe-in';
            showBubble("Inhale...");
            
            setTimeout(() => {
                if (!isBreathing) return;
                // Hold (Optional visual pause, keeping full state)
                showBubble("Hold...");
                
                setTimeout(() => {
                    if (!isBreathing) return;
                    // Exhale (4s)
                    lumi.className = 'lumi-container breathe-out';
                    showBubble("Exhale...");
                    
                    setTimeout(() => {
                        if (isBreathing) breathingCycle();
                    }, 4000); // Wait for exhale to finish
                }, 2000); // Hold for 2s
            }, 4000); // Wait for inhale to finish
        }

        function stopBreathing() {
            isBreathing = false;
            lumi.className = 'lumi-container'; // Reset classes
            lumi.style.transform = "scale(1)";
        }

        // 3. Cleanse Game (Click particles)
        function cleanse() {
            if(isBreathing) stopBreathing();
            showBubble("Clear the negative energy!");
            
            // Spawn "dust" bunnies
            for(let i=0; i<10; i++) {
                spawnDust();
            }
        }

        function spawnDust() {
            const dust = document.createElement('div');
            dust.innerText = "â˜ï¸"; // Cloud/Dust emoji
            dust.style.position = 'absolute';
            dust.style.fontSize = '2rem';
            dust.style.cursor = 'pointer';
            dust.style.left = Math.random() * 80 + 10 + '%';
            dust.style.top = Math.random() * 80 + 10 + '%';
            dust.style.opacity = '0.7';
            dust.style.transition = 'transform 0.2s';
            dust.style.zIndex = '20';
            
            // Float animation
            const duration = 3 + Math.random() * 5;
            dust.style.animation = `floatUp ${duration}s ease-in-out infinite alternate`;

            dust.onclick = (e) => {
                e.stopPropagation();
                // Poof effect
                createExplosion(e.clientX, e.clientY, 5);
                dust.remove();
                // Check if all gone?
                // (Simplified for this demo)
            };
            
            document.body.appendChild(dust);
            
            // Auto remove after 10s
            setTimeout(() => { if(dust.parentNode) dust.remove(); }, 10000);
        }


        // --- Particle System ---
        function createExplosion(x, y, count = 20) {
            for (let i = 0; i < count; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                
                // Random size
                const size = Math.random() * 8 + 4;
                p.style.width = `${size}px`;
                p.style.height = `${size}px`;
                
                // Position
                p.style.left = `${x}px`;
                p.style.top = `${y}px`;
                
                // Random color (Gold/White/Orange)
                const colors = ['#fff', '#fbbf24', '#fcd34d'];
                p.style.background = colors[Math.floor(Math.random() * colors.length)];

                document.body.appendChild(p);

                // Physics
                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 100 + 50;
                
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity - 100; // Tend upwards

                p.animate([
                    { transform: 'translate(0,0) scale(1)', opacity: 1 },
                    { transform: `translate(${tx}px, ${ty}px) scale(0)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 500,
                    easing: 'cubic-bezier(0, .9, .57, 1)',
                    fill: 'forwards'
                });

                setTimeout(() => p.remove(), 1500);
            }
        }

        // Mouse Interaction (Sparkle Trail)
        document.addEventListener('mousemove', (e) => {
            if (Math.random() > 0.9) { // Don't spawn too many
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.width = '4px';
                p.style.height = '4px';
                p.style.left = e.clientX + 'px';
                p.style.top = e.clientY + 'px';
                document.body.appendChild(p);
                
                p.animate([
                    { transform: 'translate(0,0)', opacity: 0.8 },
                    { transform: 'translate(0,-20px)', opacity: 0 }
                ], { duration: 800, fill: 'forwards' });
                
                setTimeout(() => p.remove(), 800);
            }
        });

        // Initial Greeting
        setTimeout(() => {
            showBubble("I am here to brighten your day.");
        }, 1000);

    </script>
</body>
</html>